<div class="row text-center py-4">
  <div class="col-md-12 d-flex justify-content-center">
    <div class="col-md-9">
      <h1 class="fw-bold text-center">PASSWORD</h1>

      <div class="d-flex justify-content-center">
        @if (account$ | async; as account) {
          <div class="col-md-12">
            @if (success()) {
              <div class="alert alert-success" jhiTranslate="password.messages.success"><strong>Password changed!</strong></div>
            }
            @if (error()) {
              <div class="alert alert-danger" jhiTranslate="password.messages.error">
                <strong>An error has occurred!</strong> The password could not be changed.
              </div>
            }
            @if (doNotMatch()) {
              <div class="alert alert-danger" jhiTranslate="global.messages.error.dontmatch">
                The password and its confirmation do not match!
              </div>
            }

            <form name="form" (ngSubmit)="changePassword()" [formGroup]="passwordForm">
              <div class="container">
                <div class="row">
                  <div class="col-12">
                    <div class="mt-4 input-group">
                      <span class="input-group-text" for="currentPassword"><fa-icon icon="lock"></fa-icon></span>
                      <input
                        type="password"
                        class="form-control"
                        id="currentPassword"
                        name="currentPassword"
                        placeholder="{{ 'global.form.currentpassword.placeholder' | translate }}"
                        formControlName="currentPassword"
                        data-cy="currentPassword"
                      />
                    </div>
                    <div class="mb-4 d-flex justify-content-start">
                      @if (
                        passwordForm.get('currentPassword')!.invalid &&
                        (passwordForm.get('currentPassword')!.dirty || passwordForm.get('currentPassword')!.touched)
                      ) {
                        <div>
                          @if (passwordForm.get('currentPassword')?.errors?.required) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.newpassword.required"
                              >Your password is required.</small
                            >
                          }
                        </div>
                      }
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="input-group">
                      <span class="input-group-text" for="newpassword"><fa-icon icon="lock"></fa-icon></span>
                      <input
                        type="password"
                        class="form-control"
                        id="newPassword"
                        name="newPassword"
                        placeholder="{{ 'global.form.newpassword.placeholder' | translate }}"
                        formControlName="newPassword"
                        data-cy="newPassword"
                      />
                    </div>
                    <div class="mb-4 d-flex justify-content-start">
                      @if (
                        passwordForm.get('newPassword')!.invalid &&
                        (passwordForm.get('newPassword')!.dirty || passwordForm.get('newPassword')!.touched)
                      ) {
                        <div>
                          @if (passwordForm.get('newPassword')?.errors?.required) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.newpassword.required"
                              >Your password is required.</small
                            >
                          }

                          @if (passwordForm.get('newPassword')?.errors?.minlength) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.newpassword.minlength"
                              >Your password is required to be at least 4 characters.</small
                            >
                          }

                          @if (passwordForm.get('newPassword')?.errors?.maxlength) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.newpassword.maxlength"
                              >Your password cannot be longer than 50 characters.</small
                            >
                          }
                        </div>
                      }
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="input-group">
                      <span class="input-group-text" for="confirm-password"><fa-icon icon="lock"></fa-icon></span>
                      <input
                        type="password"
                        class="form-control"
                        id="confirmPassword"
                        name="confirmPassword"
                        placeholder="{{ 'global.form.confirmpassword.placeholder' | translate }}"
                        formControlName="confirmPassword"
                        data-cy="confirmPassword"
                      />
                    </div>
                    <div class="mb-4 d-flex justify-content-start">
                      @if (
                        passwordForm.get('confirmPassword')!.invalid &&
                        (passwordForm.get('confirmPassword')!.dirty || passwordForm.get('confirmPassword')!.touched)
                      ) {
                        <div>
                          @if (passwordForm.get('confirmPassword')?.errors?.required) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.confirmpassword.required"
                              >Your confirmation password is required.</small
                            >
                          }

                          @if (passwordForm.get('confirmPassword')?.errors?.minlength) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.confirmpassword.minlength"
                              >Your confirmation password is required to be at least 4 characters.</small
                            >
                          }

                          @if (passwordForm.get('confirmPassword')?.errors?.maxlength) {
                            <small class="form-text text-danger" jhiTranslate="global.messages.validate.confirmpassword.maxlength"
                              >Your confirmation password cannot be longer than 50 characters.</small
                            >
                          }
                        </div>
                      }
                    </div>
                  </div>
                  <div class="d-flex justify-content-end">
                    <button
                      type="submit"
                      [disabled]="passwordForm.invalid"
                      class="btn btn-primary mb-3"
                      data-cy="submit"
                      jhiTranslate="password.form.button"
                    >
                      Save
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        }
      </div>
    </div>
  </div>
</div>
